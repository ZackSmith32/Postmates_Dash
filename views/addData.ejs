<!DOCTYPE html>
<html>
  <head>
    <title> AddData </title>
    <script src='https://code.jquery.com/jquery-2.1.3.min.js'></script>
    <script src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js"   
      integrity="sha256-xNjb53/rY+WmG+4L6tTl9m6PpqknWZvRt0rO1SRnJzw="
      crossorigin="anonymous"></script>
    <script src='/javascripts/bootstrap_js/bootstrap.min.js'></script>
    <script src='/modules/moment.min.js'></script>

    
    <link rel='stylesheet' href='/stylesheets/style.css' />
    
    <link href="http://code.jquery.com/ui/1.10.4/themes/ui-lightness/jquery-ui.css" rel="stylesheet">
    <link rel='stylesheet' href='//netdna.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css'>
    <link rel="stylesheet" href="/stylesheets/bootstrap_css/bootstrap.css">
    
    <script src='/javascripts/main.js'></script>
    <script type='text/javascript'>
      var jobData = <%- JSON.stringify(jobData) %>
    </script> 
    <script type='text/javascript'>
      var merchantDict = <%- JSON.stringify(merchantDict) %>
    </script> 
  

  </head>

  <body>
    <div id='modal' title='New Merchant'>
    </div>
    <% include templates/header.ejs %>
    <div id='mainPage' class='container'>
      
      <h1><%= title %></h1>
      <h5>Enter delivery data</h5>

      

      <div class='row'>
        <div class="panel panel-default col-lg-8 col-xs-11">
          <div class="panel-body">
            <p>Jobs entered below will be added to the table for the specified shift.  If there is an error simply click delete and re-enter the job.  When you are ready to start a new shift just click the button!</p>
            <form action='/addData' method='post' id='shiftData'>
              <input hidden type='number' name='firstShiftNumber' value=<%= shiftNumber %>  >
              <div>
                
                <input type='submit' value='New Shift' name='newShiftSubmit' class='btn btn-default'>
              </div>
            </form>
          </div>
        </div>
      </div>      

      

      <div class="row">
        <div id='addedJobs' class='panel panel-default col-lg-8 col-xs-11'>
          <div class="panel-heading">
            <h3 class="panel-title"> Current Shift Number <%= shiftNumber %></h3>
          </div>
          <div class="panel-body">
            <table class='table'>
              <tbody>
                <tr>
                  <th>Date</th>         
                  <th>Merchant</th>
                  <th>Payout</th>
                  <th>Tip</th>
                  <th>Start</th>
                  <th>End</th>
                  <th>Delete</th>
                </tr>
              </tbody>
            </table>  
          </div> 
        </div>
      </div>
      
      <div class="container">
        <form action='/addData' method='post' id='jobData'>
      
          <input hidden type='number' name='jobShiftNumber' value=<%= shiftNumber %>>

          <!--<div class='shiftData'>
            <h3>Total miles driven</h3>
            <input type='number' name='shiftMiles' class='shiftData' min='1'><br>
          </div> -->

          <div class='input-group'>
            <input type='checkbox' id='jobTest' name='jobTest'><span>Test?</span><br>
          </div>
          
          <div class='row'>
            <div class='jobData ui-widget'> 
              <h4>Merchant</h4>
              <input type='text' name='jobMerchant' class='job' id='autocomplete-1'>
            </div>
          </div>

          <div class='jobData' hidden>
            <input type='text' name='jobCategory' id='jobCategory'><input>
          </div>
          
          
          <div class="row">
            <div class='jobData col-lg-2 col-xs-3'>
              <h4>Payout</h4>
              <input type='number' name='jobPayout' id='jobPayout' class='job' step='0.01'>
            </div>

            <div class='jobData col-lg-4 col-xs-6'>
              <h4>Tip<input type='checkbox' id='pending' name='jobTipPending'>
              <span> Pending?</span></h4>
              
              
              <input type='number' id='jobTip' name='jobTip' class='job' step='0.01'>
            </div>
          </div>
          

          <div class='jobData'>
            <h4>Multiplier</h4>
            <input type='number' name='jobMultiplier' id='jobMultiplier' class='job' step='0.01'>
          </div>

          <div class="row">
            <div class='jobData col-lg-2 col-xs-3'>
              <h4>Start time</h4>
              <input type='datetime-local' name='jobStart' class='job'>
            </div>

            <div class='jobData col-lg-4 col-xs-6' >
              <h4>End time</h4>
              <input type='datetime-local' name='jobEnd' class='job'>
            </div>
          </div>

          <div class='jobData'>
            <label for="jobCancel">Check if canceled</label>
            <input type='checkbox' name='jobCancel'>
          </div>

          <div class='jobData'>
            <label for="jobPromotion">Check if job was a promotion</label>
            <input type='checkbox' name='jobPromotion' >
            
          </div>

          <div class='jobData'>
            <input type='submit' id='jobSubmit'>
          </div>

          
        </form>
      </div>
    </div>

    

  </body>
</html>